<?
use UTest\Kernel\Form;
use UTest\Kernel\Site;

$arTitles = array(
    'Дата завершения теста' => 'int',
    'Название теста' => 'string',
    'Дисциплина' => 'string',
    '№ пересдачи' => 'int',
    'Управление'
);

if (count($data) == 0) {
    echo Form::info('Вы ещё не прошли ни одного теста');
    return;
}
?>

<table class="table table-hover table-sort">
    <thead>
        <tr>
            <?foreach($arTitles as $k => $v):
                $title = is_string($k) ? $k : $v;
                $dataSort = is_string($k) ? "data-sort='{$v}'" : '';
                ?>
                <th <?=$dataSort?>><?=$title?></th>
            <?endforeach?>
        </tr>
    </thead>
    <tbody>
        <?foreach($data as $k => $v):?>
            <tr>
                <td data-sort-value="<?=strtotime($v['date_finish'])?>"><?=date("d.m.Y H:i:s",strtotime($v['date_finish']))?></td>
                <td><?=$v['test_title']?></td>
                <td><?=$v['subject']?></td>
                <td><?=$v['retake']?></td>
                <td class="last-column"><?=Form::btnResult(Site::getUrl() . '/' . $v['test_id'])?></td>
            </tr>
        <?endforeach?>
    </tbody>
</table>